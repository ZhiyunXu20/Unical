<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.liverpooooool.courseschedule.persistence.mapper.CourseMapper">


    <select id="myCourse" resultType="com.liverpooooool.courseschedule.object.dto.CourseDto">
        SELECT c.start_time as start , c.end_time as end, cm.teacher as teacher, cm.type as type, cm.name as name,
               cm.location as location, cm.location as location,
               c.id as course_id,cm.code as code,cm.day as day,c.week as week
        FROM course_association ca
                 left join `course-schedule`.course c on c.id = ca.course_id
                 left join `course-schedule`.course_meta cm on cm.id = c.course_meta_id
        where ca.user_id = #{userId}
    </select>
    <select id="detail" resultType="com.liverpooooool.courseschedule.object.dto.CourseDto">
        SELECT c.start_time as start , c.end_time as end, cm.teacher as teacher, cm.type as type, cm.name as name,
               cm.location as location, cm.location as location,
               c.id as course_id,cm.code as code,cm.day as day,c.week as week
        FROM course c
                 left join `course-schedule`.course_meta cm on cm.id = c.course_meta_id
        where c.id = #{courseId}
    </select>
    <select id="listAllInfo" resultType="com.liverpooooool.courseschedule.object.dto.CourseDto">
        SELECT c.start_time as start , c.end_time as end, cm.teacher as teacher, cm.type as type, cm.name as name,
               cm.location as location, cm.location as location,
               c.id as course_id,cm.code as code,cm.day as day,c.week as week
        FROM course_meta cm
            left join `course-schedule`.course c on c.course_meta_id = cm.id
    </select>
</mapper>
